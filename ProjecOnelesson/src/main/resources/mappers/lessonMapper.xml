<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper
  PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
  "https://mybatis.org/dtd/mybatis-3-mapper.dtd">
  
<mapper namespace="com.itwillbs.mappers.lessonMapper">
    <insert id="insertLesson">
		insert into lesson(LES_SUBJECT, LES_CONTENT, LES_PREVIEW, LES_UPDATE, LES_DATE, LES_PRICE, LES_CATEGORY, LES_LOCATION) 
		values(#{subject}, #{content}, #{preview}, #{update}, #{date}, #{price}, #{subCategory}, #{location})
    </insert>
    
    <select id="getLessonList" resultType="com.itwillbs.domain.LessonDTO">
    	select LES_SUBJECT "subject", LES_UPDATE "update"
    	from lesson
<!--     	order by LES_NUM desc -->
    	limit #{startRow}, #{pageSize}
    </select>
    
    <select id="getLessonCount" resultType="java.lang.Integer">
    	select count(*) from lesson
    </select>
    
    <select id="getSearch" resultType="com.itwillbs.domain.LessonDTO">
    	select LES_SUBJECT "subject", LES_UPDATE "update"
    	from lesson
    	where subject like ('%',#{search},'%')
<!--     	order by LES_NUM desc -->
    	limit #{startRow}, #{pageSize}
    </select>
    
</mapper>